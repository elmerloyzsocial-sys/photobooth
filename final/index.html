<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instax Photobooth</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .camera-section {
            position: relative;
        }
        .instax-overlay {
            pointer-events: none;
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            z-index: 3;
        }
        .instax-frame-border {
            position: absolute;
            top: 2.5%;
            left: 2.5%;
            width: 95%;
            height: 87%;
            border: 8px solid #fff;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.25);
            box-sizing: border-box;
            background: transparent;
        }
        .instax-message {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            text-align: center;
            font-family: 'Fredoka One', 'Comic Sans MS', cursive, Arial, sans-serif;
            font-size: 1.1rem;
            color: #666;
            font-weight: bold;
            text-shadow: 1px 1px 6px #fff, 0 0 2px #fff;
            pointer-events: none;
        }
        .dslr-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-label {
            font-size: 0.7rem;
            color: #888;
            margin-top: 2px;
            line-height: 1;
            pointer-events: none;
            user-select: none;
            font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
            letter-spacing: 0.01em;
        }
    </style>
</head>
<body>
    <div class="photobooth-container">
        <!-- Camera Display Area (80%) -->
        <div class="camera-section">
            <div class="instax-frame" style="position: relative;">
                <video
                    id="camera-feed"
                    autoplay
                    playsinline
                    class="normal-size"
                ></video>
                <!-- Instax Overlay for Live Preview START -->
                <div class="instax-overlay">
                    <div class="instax-frame-border"></div>
                    <div class="instax-message" id="instax-message"></div>
                </div>
                <!-- Instax Overlay for Live Preview END -->
                <canvas id="photo-canvas" style="display: none;"></canvas>
                <div
                    id="captured-photo"
                    class="captured-photo"
                    style="display: none;"
                >
                    <img id="photo-result" alt="Captured photo">
                </div>
                <div
                    id="countdown-overlay"
                    class="countdown-overlay"
                    style="display: none;"
                >
                    <span id="countdown-number">3</span>
                </div>
            </div>
            <!-- Bottom DSLR Controls -->
            <div class="bottom-controls">
                <!-- Timer Controls -->
                <button id="timer-decrease" class="dslr-btn" title="Decrease Timer">
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <ellipse cx="24" cy="24" rx="22" ry="22" fill="#ffec99" stroke="#fab005" stroke-width="2"/>
                            <rect x="14" y="22" width="20" height="4" rx="2" fill="#fa5252"/>
                        </svg>
                    </div>
                    <div class="btn-label">-1s</div>
                </button>
                <span id="timer-display" style="font-size:2rem;min-width:40px;text-align:center;color:#fd6e77;font-weight:bold;">3</span>
                <button id="timer-increase" class="dslr-btn" title="Increase Timer">
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <ellipse cx="24" cy="24" rx="22" ry="22" fill="#d3f9d8" stroke="#51cf66" stroke-width="2"/>
                            <rect x="14" y="22" width="20" height="4" rx="2" fill="#38d9a9"/>
                            <rect x="22" y="14" width="4" height="20" rx="2" fill="#38d9a9"/>
                        </svg>
                    </div>
                    <div class="btn-label">+1s</div>
                </button>
                <!-- Switch Camera -->
                <button id="switch-camera" class="dslr-btn" title="Switch Camera">
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <ellipse cx="24" cy="24" rx="22" ry="22" fill="#e7f5ff" stroke="#228be6" stroke-width="2"/>
                            <rect x="14" y="18" width="20" height="14" rx="5" fill="#4dabf7"/>
                            <circle cx="24" cy="25" r="5" fill="#fff"/>
                            <path d="M34 22l3-5" stroke="#fab005" stroke-width="2" fill="none" stroke-linecap="round"/>
                            <path d="M34 22l7 1" stroke="#fab005" stroke-width="2" fill="none" stroke-linecap="round"/>
                            <path d="M10 32c5 5 23 5 28 0" stroke="#40c057" stroke-width="3" fill="none" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="btn-label">Switch</div>
                </button>
                <!-- Take 4 Photos -->
                <button id="take-photo" class="dslr-btn" title="Take 4 Photos">
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <rect x="10" y="16" width="28" height="18" rx="8" fill="#fff3bf" stroke="#fcc419" stroke-width="2"/>
                            <circle cx="24" cy="25" r="6" fill="#ffd43b" stroke="#fab005" stroke-width="2"/>
                            <ellipse cx="17" cy="23" rx="1" ry="2" fill="#222"/>
                            <ellipse cx="31" cy="23" rx="1" ry="2" fill="#222"/>
                            <path d="M20 28q2 2 4 0" stroke="#222" stroke-width="2" fill="none"/>
                            <polygon points="24,13 27,16 21,16" fill="#fab005"/>
                            <rect x="21" y="12" width="6" height="3" rx="1" fill="#ffd43b"/>
                        </svg>
                    </div>
                    <div class="btn-label">Snap 4</div>
                </button>
                <!-- Print Button -->
                <button id="print-photo" class="dslr-btn" title="Print" disabled>
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <rect x="10" y="20" width="28" height="14" rx="4" fill="#d0ebff" stroke="#228be6" stroke-width="2"/>
                            <rect x="14" y="28" width="20" height="10" rx="2" fill="#fff"/>
                            <rect x="16" y="32" width="16" height="4" rx="1" fill="#f1f3f5"/>
                            <ellipse cx="24" cy="25" rx="10" ry="4" fill="#fff"/>
                            <circle cx="18" cy="27" r="1.2" fill="#228be6"/>
                            <circle cx="30" cy="27" r="1.2" fill="#228be6"/>
                            <path d="M20 30q2 2 4 0" stroke="#228be6" stroke-width="2" fill="none"/>
                        </svg>
                    </div>
                    <div class="btn-label">Print</div>
                </button>
                <!-- Print All Photos -->
                <button id="print-all-photos" class="dslr-btn" title="Print All" disabled>
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <rect x="12" y="26" width="24" height="12" rx="3" fill="#e7f5ff" stroke="#228be6" stroke-width="2"/>
                            <rect x="10" y="18" width="28" height="12" rx="3" fill="#fff3bf" stroke="#fcc419" stroke-width="2"/>
                            <rect x="14" y="10" width="20" height="12" rx="3" fill="#d3f9d8" stroke="#51cf66" stroke-width="2"/>
                            <circle cx="24" cy="32" r="2" fill="#228be6"/>
                            <circle cx="28" cy="32" r="2" fill="#228be6"/>
                            <path d="M20 35q2 2 4 0" stroke="#228be6" stroke-width="2" fill="none"/>
                        </svg>
                    </div>
                    <div class="btn-label">Print All</div>
                </button>
                <!-- Share Button -->
                <button id="share-photo" class="dslr-btn" title="Share" disabled>
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <ellipse cx="24" cy="20" rx="10" ry="13" fill="#ffe3e3" stroke="#fa5252" stroke-width="2"/>
                            <path d="M24 33v6" stroke="#fa5252" stroke-width="2"/>
                            <path d="M24 36q-2 2 -4 0" stroke="#fa5252" stroke-width="2" fill="none"/>
                            <path d="M19.5 20q2.5-2 5 0" stroke="#fa5252" stroke-width="2" fill="none"/>
                            <circle cx="24" cy="24" r="2" fill="#fa5252"/>
                        </svg>
                    </div>
                    <div class="btn-label">Share</div>
                </button>
                <!-- Retake Button -->
                <button id="retake-photo" class="dslr-btn" title="Retake" style="display:none;">
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <circle cx="24" cy="24" r="20" fill="#fff3bf" stroke="#fab005" stroke-width="2"/>
                            <path d="M24 8a16 16 0 1 1-11.31 27.31" stroke="#fab005" stroke-width="3" fill="none"/>
                            <polygon points="16,33 9,32 14,27" fill="#fab005"/>
                            <ellipse cx="28" cy="26" rx="1.8" ry="2.5" fill="#222"/>
                            <ellipse cx="20" cy="26" rx="1.2" ry="1.5" fill="#222"/>
                            <path d="M24 30q2 2 4 0" stroke="#222" stroke-width="2" fill="none"/>
                        </svg>
                    </div>
                    <div class="btn-label">Retake</div>
                </button>
                <!-- Download Gallery Button -->
                <button id="download-gallery" class="dslr-btn" title="Download All" style="display: none;">
                    <div class="btn-icon">
                        <svg viewBox="0 0 48 48" width="40" height="40">
                            <rect x="8" y="8" width="32" height="32" rx="6" fill="#e7f5ff" stroke="#228be6" stroke-width="2"/>
                            <rect x="16" y="10" width="16" height="8" rx="2" fill="#228be6"/>
                            <rect x="16" y="32" width="16" height="4" rx="2" fill="#ffd43b"/>
                            <circle cx="24" cy="26" r="2" fill="#228be6"/>
                            <path d="M20 28q2 2 4 0" stroke="#228be6" stroke-width="2" fill="none"/>
                        </svg>
                    </div>
                    <div class="btn-label">Save All</div>
                </button>
            </div>
        </div>
        <!-- Gallery Sidebar (20%) -->
        <aside class="gallery-sidebar">
            <div class="gallery-title">Gallery</div>
            <div class="gallery-photos" id="sidebar-gallery"></div>
        </aside>
    </div>
    <script src="js/photobooth.js"></script>
</body>
</html>